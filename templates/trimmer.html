{% extends "bootstrap/base.html" %}
{% block title %}Virtuaso: Stage 6{% endblock %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
<link rel="shortcut icon" href="{{ url_for('static', filename='ui/favicon.ico') }}">
<script src="{{ url_for('static', filename='js/jquery-3.3.1.js') }}"></script>
<script>
	$(document).ready(function () {
		$("#processstage").click(function(){
			$('#cover-spin').show(0);
			$.ajax({
				url: "/TrimAndNoiseRemovalprocess?name={{name}}",
				type: 'GET',
				data: "",
				cache: false,
				success: function(result){

				}
			});
		});
	});
</script>
<!--<script>-->
	<!--$(document).ready(function () {-->
		<!--$("#processstage").click(function(){-->
			<!--$('#cover-spin').show(0);-->
			<!--window.location.href = "/TrimAndNoiseRemovalprocess?name={{name}}";-->
		<!--});-->
	<!--});-->
<!--</script>-->
{% endblock %}

{% block navbar %}
{%include "NavBarTemplate.html" %}
{% endblock %}

{%block content %}
<section class="container" style="text-align:center;">
	<div class="centercenter">
		<h3>Stage 6: Surface trimming and noise removal of "{{name}}"</h3>
		<p>Here, the generated 3D mesh model from the previous stage is surface-trimmed to remove as much unrelated background noise as possible.
			Noise removal is then done via retaining the largest mesh after mesh splitting.</p>
		<br><br>
		<a class="btn btn-default halfwidth" href="{{ url_for('static', filename='images/' + name + '/temp/pmvs/models/mesh.ply')}}">Download current state of model</a><br><br>
		<a class="btn btn-primary halfwidth" id="processstage">Begin Stage 6</a>
		<!--<a class="btn btn-primary halfwidth" id="processstage">Begin Stage 6</a>-->
	</div>
</section>
<div id="cover-spin"></div>
{% endblock %}