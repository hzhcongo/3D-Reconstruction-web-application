{% extends "bootstrap/base.html" %}
{% block title %}3D reconstruction{% endblock %}

{% block styles %}
{{ super() }}
<style type="text/css">
	#threejs_container {
		/*max-width : 500px;*/
		overflow : hidden;
		display : inline-block;
		margin : 10px;
	}
	#mesh_table {
		/*max-width : 500px;*/
/*		border-style: solid;
		border-width: 5px;*/
		<!--display : inline-block;-->
		margin : 10px;
	}
	.button{
		margin : 10px;
	}
</style>

<!--<script type="text/javascript" src="../static/js/jquery-3.2.1.js"></script>-->
<!--<script type="text/javascript" src="../static/js/jquery.tablesorter.js"></script>-->
<!--<script type="text/javascript">-->
	<!--$(document).ready(function()-->
		<!--{-->
			<!--$("#myTable").tablesorter();-->
		<!--}-->
	<!--);-->
<!--</script>-->
<!--<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.16/datatables.min.css"/>-->
<!--<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.16/datatables.min.js"></script>-->
<!--<script type="text/javascript">-->
	<!--$(document).ready( function () {-->
		<!--$('#myTable').DataTable();-->
	<!--} );-->
<!--</script>-->
{% endblock %}
{% block navbar %}
{%include "NavBarTemplate.html" %}
{% endblock %}

{%block content %}
<section class="container">
	<h1 class = "button">Meshes</h1>
	<div class="row align-items-start">
		<div id = "mesh_table" class = "col-4">
			<table id="myTable" class="table table-hover">
				<thead>
					<th>Mesh name</th>
					<th>Created time</th>
					<th>Modified time</th>
					<th>File size</th>
					<th></th>
					<th style="width:250px;">Actions</th>
				</thead>
				<tbody>
					{% for d in data %}
					<tr>
						<td>{{d.filename}}</td>
						<td>{{d.creation_time}}</td>
						<td>{{d.modification_time}}</td>
						<td>{{d.file_size}} KB</td>
						<td></td>
                        <td style="text-align: center;">
                            <a href="/edit/{{d.filename}}">View / Edit</a>
                            <a href="/delete/{{d.filename}}" style="margin-left:20px;">Delete</a>
                        </td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>

		<div id = "threejs_container" class = "col-4 push-1">
			{% if name %}
			<iframe src="/display/{{name}}" scrolling="no" style=" width: 1150px; height: 700px;"></iframe>
			{% else %}
			<iframe src="/display/" scrolling="no" style=" width: 1150px; height: 700px;"></iframe>
			{% endif %}
<!-- 			<object data="/display/{{name}}" style="min-width: 100%; min-height: 101%;" type="text/html">
			    Alternative Content
			</object> -->
			<!-- <embed src="/display/{{name}}" width=100% /> -->
		</div>
	</div> <!-- row -->
</section> <!-- container -->
{% endblock %}